<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MySQL Scanner Pro</title>
    <style>
        :root {
            --hacker-green: #00ff00;
            --dark-bg: #0a0a0a;
            --card-bg: #111;
            --warning: #ffff00;
            --danger: #ff0000;
            --info: #00ffff;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background-color: var(--dark-bg);
            color: var(--hacker-green);
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            background-color: var(--card-bg);
            border: 1px solid #333;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.1);
        }
        
        pre {
            margin: 0;
            color: var(--hacker-green);
            font-family: inherit;
        }
        
        input, button {
            background-color: #222;
            color: var(--hacker-green);
            border: 1px solid #333;
            padding: 10px;
            margin: 10px 0;
            font-family: inherit;
            width: 100%;
            box-sizing: border-box;
        }
        
        button {
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        button:hover {
            background-color: #333;
            box-shadow: 0 0 8px rgba(0, 255, 0, 0.4);
        }
        
        .result {
            margin-top: 20px;
            white-space: pre-wrap;
            word-break: break-word;
        }
        
        .section {
            margin-bottom: 20px;
            border-left: 3px solid var(--hacker-green);
            padding-left: 10px;
        }
        
        .success {
            color: var(--hacker-green);
        }
        
        .warning {
            color: var(--warning);
        }
        
        .danger {
            color: var(--danger);
        }
        
        .info {
            color: var(--info);
        }
        
        .tag {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 0.8em;
            margin-left: 5px;
        }
        
        .ssl-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .ssl-good {
            background-color: #006600;
            color: #00ff00;
        }
        
        .ssl-bad {
            background-color: #660000;
            color: #ff6666;
        }
        
        .progress-bar {
            height: 4px;
            background-color: #333;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            width: 0%;
            background-color: var(--hacker-green);
            transition: width 0.3s;
        }
        
        @keyframes scan-animation {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }
        
        .scanning {
            animation: scan-animation 1.5s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <pre>
 ‚ñà‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó   ‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
 ‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïê‚ïù
 ‚ñà‚ñà‚ïî‚ñà‚ñà‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë ‚ïö‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó  
 ‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë  ‚ïö‚ñà‚ñà‚ïî‚ïù  ‚ïö‚ïê‚ïê‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïù  
 ‚ñà‚ñà‚ïë ‚ïö‚ïê‚ïù ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó
 ‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù   ‚ïö‚ïê‚ïù   ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
        </pre>
        
        <div>
            <label for="ip">MySQL Server IP:</label>
            <input type="text" id="ip" placeholder="e.g., 23.224.129.134" value="23.224.129.134">
        </div>
        <div>
            <label for="port">Port:</label>
            <input type="number" id="port" placeholder="3306" value="3306">
        </div>
        <button onclick="startScan()">Launch Scan</button>
        
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        
        <div id="result" class="result"></div>
    </div>

    <script>
        // API endpoint - replace with your actual URL
        const API_URL = 'https://nextjs-boilerplate-six-xi-50.vercel.app/api/scan';
        
        async function startScan() {
            const ip = document.getElementById('ip').value.trim();
            const port = document.getElementById('port').value || 3306;
            const resultDiv = document.getElementById('result');
            const progressBar = document.getElementById('progress');
            
            // Reset UI
            resultDiv.innerHTML = '';
            progressBar.style.width = '0%';
            
            // Validate IP
            if (!isValidIP(ip)) {
                resultDiv.innerHTML = '<span class="danger">[‚úñ] Invalid IP address format</span>';
                return;
            }
            
            // Show scanning animation
            resultDiv.innerHTML = `
                <span class="info scanning">[‚ö°] Scanning ${ip}:${port}...</span>
                <span class="info scanning">[üåç] Gathering network intelligence...</span>
                <span class="info scanning">[üîç] Analyzing MySQL protocol...</span>
            `;
            
            // Animate progress bar
            animateProgress(progressBar);
            
            try {
                // Make API call
                const response = await fetch(`${API_URL}?ip=${ip}&port=${port}`);
                const data = await response.json();
                
                if (data.error) {
                    throw new Error(data.error);
                }
                
                // Display results
                displayResults(data, resultDiv);
                progressBar.style.backgroundColor = '#00ff00';
                
            } catch (error) {
                resultDiv.innerHTML += `\n<span class="danger">[‚úñ] Error: ${error.message}</span>`;
                progressBar.style.backgroundColor = '#ff0000';
            } finally {
                progressBar.style.width = '100%';
            }
        }
        
        function animateProgress(progressBar) {
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 90) {
                    clearInterval(interval);
                    return;
                }
                width += 10;
                progressBar.style.width = `${width}%`;
            }, 300);
        }
        
        function isValidIP(ip) {
            const ipPattern = /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;
            return ipPattern.test(ip);
        }
        
        function displayResults(data, resultDiv) {
    // Destructure data for convenience
    const {
        ip, port, geo,
        data: {
            version, protocol, salt, timestamp, capabilities
        },
        rate_limit,
    } = data;

    // Geo fallback if missing
    const geoInfo = geo && geo.status === 'success' ? geo : null;

    // SSL badge
    const sslBadge = capabilities.ssl 
        ? '<span class="ssl-badge ssl-good">SSL: ENABLED</span>' 
        : '<span class="ssl-badge ssl-bad">SSL: DISABLED</span>';

    // Secure connection status
    const secureConn = capabilities.secure_connection
        ? '<span class="success">‚úî Secure connection</span>'
        : '<span class="danger">‚úñ Insecure connection</span>';

    // Rate limit info
    const rateLimitDisplay = rate_limit?.max === 'unlimited'
        ? 'Unlimited'
        : `${rate_limit.current} / ${rate_limit.max}`;

    // Compose output HTML
    const output = `
    <div class="section">
        <h3 class="success">Scan Summary</h3>
        <p>Completed at: <strong>${new Date(timestamp).toLocaleString()}</strong></p>
        <p>Rate Limit Usage: <strong>${rateLimitDisplay}</strong></p>
    </div>

    <div class="section">
        <h3 class="info">Network Information</h3>
        <p>IP Address: <strong>${ip}</strong></p>
        <p>Port: <strong>${port}</strong></p>
        ${
          geoInfo
            ? `<p>Location: <strong>${geoInfo.city}, ${geoInfo.regionName}, ${geoInfo.country}</strong> (${geoInfo.lat.toFixed(4)}, ${geoInfo.lon.toFixed(4)})</p>
               <p>ISP: <strong>${geoInfo.isp}</strong></p>
               <p>AS: <strong>${geoInfo.as}</strong></p>`
            : `<p><em>GeoIP data not available</em></p>`
        }
    </div>

    <div class="section">
        <h3 class="info">MySQL Server Details</h3>
        <p>Version: <strong>${version}</strong></p>
        <p>Protocol: <strong>${protocol}</strong></p>
        <p>Authentication Salt: <code>${salt}</code></p>
        <p>Connection Security: ${secureConn}</p>
        <p>${sslBadge}</p>
    </div>

    <div class="section">
        <h3 class="info">Technical Data (Raw)</h3>
        <pre>${JSON.stringify(data.data, null, 2)}</pre>
    </div>

    <div class="section warning">
        <strong>‚ö†Ô∏è Note:</strong> This scan was performed without authentication. Results may vary.
    </div>
    `;

    resultDiv.innerHTML = output;
}
    </script>
</body>
</html>
